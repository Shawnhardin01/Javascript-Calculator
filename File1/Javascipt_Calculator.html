<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>
<body>

<div class="d-flex flex-wrap flex-column  ">
  <div class="d-flex flex-wrap flex-row">
    <button id="btn0" value= 0 class="btn p-3 rounded btn-info border border-5">0</button>
    <button id="btn1" value= 1 class="btn p-3 rounded btn-info border border-5">1</button>
    <button id="btn2" value= 2 class="btn p-3 rounded btn-info border border-5">2</button>
  </div>
  <div class="d-flex flex-wrap flex-row">
    <button id="btn3" value= 3 class="btn p-3 rounded btn-info border border-5">3</button>
    <button id="btn4" value= 4 class="btn p-3 rounded btn-info border border-5">4</button>
    <button id="btn5" value= 5 class="btn p-3 rounded btn-info border border-5">5</button>
  </div>
  <div class="d-flex flex-wrap flex-row">
    <button id="btn6" value= 6 class="btn p-3 rounded btn-info border border-5">6</button>
    <button id="btn7" value= 7 class="btn p-3 rounded btn-info border border-5">7</button>
    <button id="btn8" value= 8 class="btn p-3 rounded btn-info border border-5">8</button>
  </div>
  <div class="d-flex flex-wrap flex-row">
    <button id="btn+" value= + class="btn p-3 rounded btn-info border border-5">+</button>
    <button id="btn9" value= 9 class="btn p-3 rounded btn-info border border-5">9</button>
    <button id="btn-" value= - class="btn p-3 rounded btn-info border border-5">-</button>
  </div>
  <div class="d-flex flex-wrap flex-row">
    <button id="btnx" value= * class="btn p-3 rounded btn-info border border-5">x</button>
    <button id="btn%" value= / class="btn p-3 rounded btn-info border border-5">%</button>
    <button id="btn=" value="=" class="btn p-3 rounded btn-info border border-5">=</button>
    <button id="clear" class="btn p-2 rounded btn-info border border-5">Clear</button>
  </div>
  <p id="result">0</p>
</div>

<script>
  var numbers = [];
  var operator = null;
  var isFirstNumber = true;

  function updateResult() {
    var result = numbers.join('');
    document.getElementById('result').textContent = result;
  }

  function evaluateExpression() {
    var result = 0;
    if (numbers.length > 0 && !isFirstNumber) {
      result = calculateResult();
    }
    document.getElementById('result').textContent = result;
    numbers = [result.toString()];
    operator = null;
    isFirstNumber = true;
  }

  document.getElementById("btn=").addEventListener('click', evaluateExpression);

  function calculateResult() {
    var firstNumber = parseFloat(numbers[0]);
    var secondNumber = parseFloat(numbers.slice(1).join(''));
    var result = 0;
    switch (operator) {
      case '+':
        result = firstNumber + secondNumber;
        break;
      case '-':
        result = firstNumber - secondNumber;
        break;
      case 'x':
        result = firstNumber * secondNumber;
        break;
      case '%':
        result = firstNumber / secondNumber;
        break;
      default:
        break;
    }
    return result;
  }

  function makeNumber() {
    for (var i = 0; i <= 9; i++) {
      document.getElementById("btn" + i).addEventListener('click', function() {
        var buttonValue = this.value;
        if (isFirstNumber) {
          numbers.push(buttonValue);
        } else {
          numbers = [buttonValue];
          isFirstNumber = true;
        }
        updateResult();
      });
    }

    document.getElementById("btn+").addEventListener('click', function() {
      if (!isFirstNumber) return;
      operator = '+';
      isFirstNumber = false;
    });

    document.getElementById("btn-").addEventListener('click', function() {
      if (!isFirstNumber) return;
      operator = '-';
      isFirstNumber = false;
    });

    document.getElementById("btnx").addEventListener('click', function() {
      if (!isFirstNumber) return;
      operator = 'x';
      isFirstNumber = false;
    });

    document.getElementById("btn%").addEventListener('click', function() {
      if (!isFirstNumber) return;
      operator = '%';
      isFirstNumber = false;
    });
  }

  makeNumber();

  document.getElementById("clear").addEventListener('click', function() {
    numbers = [];
    operator = null;
    isFirstNumber = true;
    updateResult();
  });

</script>

</body>
</html>